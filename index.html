<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë§ˆë”í…… 3ê°œì›” ì™„ì„± í”Œëœ â€” ê³µìœ  ë²„ì „</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=DM+Mono:wght@400;500&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0c14;
    --surface: #111320;
    --surface2: #181b2e;
    --border: #252840;
    --accent1: #ff6b6b;
    --accent2: #ffd93d;
    --accent3: #6bcb77;
    --accent4: #4d96ff;
    --text: #e8eaf0;
    --muted: #6b7094;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: 2rem;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    top: -200px; left: -200px;
    width: 600px; height: 600px;
    background: radial-gradient(circle, rgba(77,150,255,0.06) 0%, transparent 70%);
    pointer-events: none;
  }

  .container { max-width: 1100px; margin: 0 auto; position: relative; z-index: 1; }

  /* SYNC BADGE */
  .sync-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: rgba(107,203,119,0.08);
    border: 1px solid rgba(107,203,119,0.2);
    border-radius: 12px;
    padding: 0.7rem 1.2rem;
    margin-bottom: 1.5rem;
    font-size: 0.78rem;
    color: var(--accent3);
    animation: fadeUp 0.5s ease forwards;
  }

  .sync-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--accent3);
    display: inline-block;
    margin-right: 0.5rem;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.8); }
  }

  .sync-time { color: var(--muted); font-family: 'DM Mono', monospace; font-size: 0.7rem; }

  /* HEADER */
  header { margin-bottom: 2rem; animation: fadeUp 0.6s ease forwards; }

  .label-pill {
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--accent2);
    background: rgba(255,217,61,0.1);
    border: 1px solid rgba(255,217,61,0.25);
    padding: 0.3rem 0.8rem;
    border-radius: 100px;
    margin-bottom: 0.8rem;
    display: inline-block;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 900;
    line-height: 1.1;
    background: linear-gradient(135deg, #fff 0%, #a0a8d0 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.4rem;
  }

  .subtitle { color: var(--muted); font-size: 0.85rem; font-weight: 300; }

  /* PROGRESS */
  .total-progress-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem 2rem;
    margin-bottom: 2rem;
    animation: fadeUp 0.6s 0.1s ease both;
  }

  .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
  .progress-title { font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); font-family: 'DM Mono', monospace; }
  .progress-pct { font-family: 'DM Mono', monospace; font-size: 1.2rem; color: var(--accent2); font-weight: 500; }

  .progress-bar-wrap { background: var(--border); border-radius: 100px; height: 8px; overflow: hidden; }
  .progress-bar-fill { height: 100%; border-radius: 100px; background: linear-gradient(90deg, var(--accent4), var(--accent3)); transition: width 0.6s cubic-bezier(0.4,0,0.2,1); width: 0%; }

  .subject-bars { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1.2rem; }
  .sub-bar-label { display: flex; justify-content: space-between; font-size: 0.78rem; color: var(--muted); margin-bottom: 0.4rem; }
  .sub-bar-label span:last-child { font-family: 'DM Mono', monospace; }
  .sub-bar-wrap { background: var(--border); border-radius: 100px; height: 4px; overflow: hidden; }
  .sub-bar-fill { height: 100%; border-radius: 100px; transition: width 0.6s cubic-bezier(0.4,0,0.2,1); width: 0%; }
  .fill-red { background: var(--accent1); }
  .fill-blue { background: var(--accent4); }
  .fill-green { background: var(--accent3); }

  /* TABS */
  .tabs { display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: wrap; animation: fadeUp 0.6s 0.2s ease both; }
  .tab-btn {
    font-family: 'Noto Sans KR', sans-serif;
    font-size: 0.82rem; font-weight: 500;
    padding: 0.55rem 1.2rem;
    border-radius: 100px;
    border: 1px solid var(--border);
    background: var(--surface);
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .tab-btn:hover { border-color: var(--accent4); color: var(--text); }
  .tab-btn.active { background: var(--accent4); border-color: var(--accent4); color: #fff; }
  .tab-btn[data-month="2"].active { background: var(--accent1); border-color: var(--accent1); }
  .tab-btn[data-month="3"].active { background: var(--accent3); border-color: var(--accent3); color: #0a0c14; }

  /* MONTH */
  .month-content { display: none; }
  .month-content.active { display: block; animation: fadeUp 0.3s ease forwards; }

  .month-header {
    display: flex; align-items: center; gap: 1.5rem;
    margin-bottom: 1.5rem; padding: 1.5rem 2rem;
    background: var(--surface); border-radius: 16px; border: 1px solid var(--border);
    flex-wrap: wrap;
  }
  .month-num { font-family: 'Playfair Display', serif; font-size: 4rem; font-weight: 900; line-height: 1; opacity: 0.15; }
  .month-info h2 { font-size: 1.3rem; font-weight: 700; margin-bottom: 0.2rem; }
  .month-info p { font-size: 0.8rem; color: var(--muted); }
  .month-badge { margin-left: auto; padding: 0.4rem 1rem; border-radius: 100px; font-size: 0.75rem; font-weight: 700; }
  .badge-red { background: rgba(255,107,107,0.15); color: var(--accent1); border: 1px solid rgba(255,107,107,0.3); }
  .badge-blue { background: rgba(77,150,255,0.15); color: var(--accent4); border: 1px solid rgba(77,150,255,0.3); }
  .badge-green { background: rgba(107,203,119,0.15); color: var(--accent3); border: 1px solid rgba(107,203,119,0.3); }

  /* WEEKS */
  .weeks-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  @media (max-width: 700px) { .weeks-grid { grid-template-columns: 1fr; } .subject-bars { grid-template-columns: 1fr; } }

  .week-card {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: 14px; padding: 1.3rem 1.5rem;
    transition: border-color 0.2s, transform 0.2s;
  }
  .week-card:hover { border-color: #353860; transform: translateY(-2px); }
  .week-card.completed { border-color: rgba(107,203,119,0.3); background: rgba(107,203,119,0.04); }

  .week-num-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.8rem; }
  .week-num { font-family: 'DM Mono', monospace; font-size: 0.7rem; color: var(--muted); letter-spacing: 0.1em; }

  .week-check {
    width: 20px; height: 20px; border-radius: 50%;
    border: 2px solid var(--border); cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; flex-shrink: 0;
  }
  .week-check.done { background: var(--accent3); border-color: var(--accent3); }
  .week-check.done::after { content: 'âœ“'; color: #0a0c14; font-size: 0.65rem; font-weight: 900; }

  .week-title { font-size: 0.95rem; font-weight: 700; margin-bottom: 0.6rem; line-height: 1.4; }

  .tasks-list { list-style: none; }
  .task-item {
    display: flex; align-items: flex-start; gap: 0.5rem;
    padding: 0.35rem 0; font-size: 0.8rem; color: var(--muted);
    border-bottom: 1px solid rgba(255,255,255,0.04);
    cursor: pointer; transition: color 0.15s;
  }
  .task-item:last-child { border-bottom: none; }
  .task-item:hover { color: var(--text); }

  .task-item input[type="checkbox"] {
    appearance: none; -webkit-appearance: none;
    width: 14px; height: 14px;
    border: 1.5px solid var(--border); border-radius: 3px;
    flex-shrink: 0; margin-top: 1px; cursor: pointer;
    transition: all 0.15s; position: relative;
  }
  .task-item input[type="checkbox"]:checked { background: var(--accent3); border-color: var(--accent3); }
  .task-item input[type="checkbox"]:checked::after {
    content: ''; position: absolute;
    top: 1px; left: 3px; width: 4px; height: 7px;
    border: 1.5px solid #0a0c14; border-top: none; border-left: none;
    transform: rotate(45deg);
  }
  .task-item.checked { text-decoration: line-through; color: #404460; }

  /* ì²´í¬ ì¤‘ ë¡œë”© í‘œì‹œ */
  .task-item input[type="checkbox"].saving { opacity: 0.5; }

  .day-tag {
    font-family: 'DM Mono', monospace; font-size: 0.65rem;
    background: var(--surface2); color: var(--muted);
    padding: 0.1rem 0.35rem; border-radius: 4px;
    flex-shrink: 0; margin-top: 1px;
  }

  /* TIPS */
  .tips-section {
    margin-top: 2rem; padding: 1.5rem 2rem;
    background: var(--surface); border: 1px solid var(--border);
    border-radius: 16px; animation: fadeUp 0.6s 0.35s ease both;
  }
  .tips-title { font-family: 'DM Mono', monospace; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.15em; color: var(--accent2); margin-bottom: 1rem; }
  .tips-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; }
  .tip-card { background: var(--surface2); border-radius: 10px; padding: 1rem; border: 1px solid var(--border); }
  .tip-icon { font-size: 1.3rem; margin-bottom: 0.4rem; }
  .tip-card h4 { font-size: 0.82rem; font-weight: 700; margin-bottom: 0.3rem; }
  .tip-card p { font-size: 0.75rem; color: var(--muted); line-height: 1.5; }

  /* RESET BTN */
  .reset-btn {
    font-family: 'DM Mono', monospace; font-size: 0.7rem;
    background: transparent; border: 1px solid rgba(255,107,107,0.3);
    color: rgba(255,107,107,0.6); padding: 0.35rem 0.8rem;
    border-radius: 6px; cursor: pointer; transition: all 0.2s;
  }
  .reset-btn:hover { border-color: var(--accent1); color: var(--accent1); }

  /* LOADING OVERLAY */
  .loading-overlay {
    position: fixed; inset: 0;
    background: var(--bg);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 999; transition: opacity 0.4s;
  }
  .loading-overlay.hidden { opacity: 0; pointer-events: none; }
  .loading-spinner {
    width: 36px; height: 36px;
    border: 3px solid var(--border);
    border-top-color: var(--accent4);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-bottom: 1rem;
  }
  .loading-text { font-family: 'DM Mono', monospace; font-size: 0.75rem; color: var(--muted); }
  @keyframes spin { to { transform: rotate(360deg); } }
  @keyframes fadeUp { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: translateY(0); } }
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
</style>
</head>
<body>

<!-- LOADING -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-spinner"></div>
  <div class="loading-text">ê³µìœ  ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
</div>

<div class="container">

  <!-- SYNC BAR -->
  <div class="sync-bar">
    <div><span class="sync-dot"></span>ì‹¤ì‹œê°„ ê³µìœ  í™œì„±í™” â€” ëˆ„êµ¬ë“  ì²´í¬í•˜ë©´ ëª¨ë‘ì—ê²Œ ë°˜ì˜ë¼ìš”</div>
    <div style="display:flex;align-items:center;gap:1rem;">
      <span class="sync-time" id="syncTime">ë™ê¸°í™” ì¤‘...</span>
      <button class="reset-btn" onclick="confirmReset()">ì „ì²´ ì´ˆê¸°í™”</button>
    </div>
  </div>

  <!-- HEADER -->
  <header>
    <div class="label-pill">ğŸ“š SHARED STUDY ROADMAP</div>
    <h1>ë§ˆë”í…… 3ê°œì›”<br>ì™„ì„± í”Œëœ</h1>
    <p class="subtitle">ìˆ˜í•™1 Â· ìˆ˜í•™2 Â· í™•ë¥ ê³¼í†µê³„ â€” í•¨ê»˜ ì²´í¬í•˜ëŠ” ê³µìœ  ì»¤ë¦¬í˜ëŸ¼</p>
  </header>

  <!-- TOTAL PROGRESS -->
  <div class="total-progress-card">
    <div class="progress-header">
      <span class="progress-title">ì „ì²´ ì§„í–‰ë¥ </span>
      <span class="progress-pct" id="totalPct">0%</span>
    </div>
    <div class="progress-bar-wrap"><div class="progress-bar-fill" id="totalBar"></div></div>
    <div class="subject-bars">
      <div class="sub-bar-item">
        <div class="sub-bar-label"><span>ìˆ˜í•™ 1</span><span id="pct1">0%</span></div>
        <div class="sub-bar-wrap"><div class="sub-bar-fill fill-red" id="bar1"></div></div>
      </div>
      <div class="sub-bar-item">
        <div class="sub-bar-label"><span>ìˆ˜í•™ 2</span><span id="pct2">0%</span></div>
        <div class="sub-bar-wrap"><div class="sub-bar-fill fill-blue" id="bar2"></div></div>
      </div>
      <div class="sub-bar-item">
        <div class="sub-bar-label"><span>í™•ë¥ ê³¼í†µê³„</span><span id="pct3">0%</span></div>
        <div class="sub-bar-wrap"><div class="sub-bar-fill fill-green" id="bar3"></div></div>
      </div>
    </div>
  </div>

  <!-- TABS -->
  <div class="tabs">
    <button class="tab-btn active" data-month="1" onclick="switchTab(1)">1ê°œì›”ì°¨ â€” ìˆ˜í•™1</button>
    <button class="tab-btn" data-month="2" onclick="switchTab(2)">2ê°œì›”ì°¨ â€” ìˆ˜í•™2</button>
    <button class="tab-btn" data-month="3" onclick="switchTab(3)">3ê°œì›”ì°¨ â€” í™•í†µ + ë³µìŠµ</button>
  </div>

  <!-- MONTH 1 -->
  <div class="month-content active" id="month-1">
    <div class="month-header">
      <div class="month-num">01</div>
      <div class="month-info"><h2>ğŸ“ ìˆ˜í•™ 1 ì™„ì„±</h2><p>ì§€ìˆ˜Â·ë¡œê·¸í•¨ìˆ˜ â†’ ì‚¼ê°í•¨ìˆ˜ â†’ ìˆ˜ì—´ ìˆœìœ¼ë¡œ ê°œë…ë¶€í„° ìœ í˜•ê¹Œì§€</p></div>
      <div class="month-badge badge-red">4ì£¼ ì™„ì„±</div>
    </div>
    <div class="weeks-grid">
      <div class="week-card" id="wc-1">
        <div class="week-num-row"><span class="week-num">WEEK 01</span><div class="week-check" id="wcheck-1" onclick="toggleWeek(1)"></div></div>
        <div class="week-title">ì§€ìˆ˜í•¨ìˆ˜ì™€ ë¡œê·¸í•¨ìˆ˜ â€” ê°œë…í¸</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t0" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ì§€ìˆ˜ì˜ í™•ì¥, ì§€ìˆ˜ë²•ì¹™ ì •ë¦¬ + ìœ í˜• ë¬¸ì œ</li>
          <li class="task-item"><input type="checkbox" data-id="t1" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ë¡œê·¸ì˜ ì •ì˜, ë¡œê·¸ì˜ ì„±ì§ˆ</li>
          <li class="task-item"><input type="checkbox" data-id="t2" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ìƒìš©ë¡œê·¸ + ì§€ìˆ˜Â·ë¡œê·¸ ë°©ì •ì‹</li>
          <li class="task-item"><input type="checkbox" data-id="t3" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì§€ìˆ˜í•¨ìˆ˜Â·ë¡œê·¸í•¨ìˆ˜ ê·¸ë˜í”„</li>
          <li class="task-item"><input type="checkbox" data-id="t4" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ì§€ìˆ˜Â·ë¡œê·¸ ë¶€ë“±ì‹</li>
          <li class="task-item"><input type="checkbox" data-id="t5" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>1ì£¼ì°¨ í‹€ë¦° ë¬¸ì œ ì˜¤ë‹µ ì •ë¦¬ + ê¸°ì¶œ ë³€í˜•</li>
        </ul>
      </div>
      <div class="week-card" id="wc-2">
        <div class="week-num-row"><span class="week-num">WEEK 02</span><div class="week-check" id="wcheck-2" onclick="toggleWeek(2)"></div></div>
        <div class="week-title">ì‚¼ê°í•¨ìˆ˜ â€” ê°œë… + í•µì‹¬ ìœ í˜•</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t6" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>í˜¸ë„ë²•, ì‚¼ê°í•¨ìˆ˜ ì •ì˜ + ì‚¬ë¶„ë©´</li>
          <li class="task-item"><input type="checkbox" data-id="t7" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ì‚¼ê°í•¨ìˆ˜ ê·¸ë˜í”„ (sinÂ·cosÂ·tan)</li>
          <li class="task-item"><input type="checkbox" data-id="t8" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ì‚¼ê°í•¨ìˆ˜ ë°©ì •ì‹Â·ë¶€ë“±ì‹</li>
          <li class="task-item"><input type="checkbox" data-id="t9" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì‚¼ê°í•¨ìˆ˜ ë§ì…ˆì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t10" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ë°°ê°ê³µì‹Â·ë°˜ê°ê³µì‹ + í•©ì„±</li>
          <li class="task-item"><input type="checkbox" data-id="t11" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ì‚¼ê°í•¨ìˆ˜ ì‹¤ì „ ê¸°ì¶œ í’€ì´</li>
        </ul>
      </div>
      <div class="week-card" id="wc-3">
        <div class="week-num-row"><span class="week-num">WEEK 03</span><div class="week-check" id="wcheck-3" onclick="toggleWeek(3)"></div></div>
        <div class="week-title">ìˆ˜ì—´ â€” ë“±ì°¨Â·ë“±ë¹„Â·ì í™”ì‹</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t12" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ë“±ì°¨ìˆ˜ì—´ê³¼ ë“±ì°¨ê¸‰ìˆ˜</li>
          <li class="task-item"><input type="checkbox" data-id="t13" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ë“±ë¹„ìˆ˜ì—´ê³¼ ë“±ë¹„ê¸‰ìˆ˜</li>
          <li class="task-item"><input type="checkbox" data-id="t14" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ìˆ˜ì—´ì˜ í•© (âˆ‘ ê¸°í˜¸) ê³„ì‚°</li>
          <li class="task-item"><input type="checkbox" data-id="t15" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ìˆ˜í•™ì  ê·€ë‚©ë²•</li>
          <li class="task-item"><input type="checkbox" data-id="t16" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ì í™”ì‹ â€” 1Â·2ë‹¨ê³„ ì í™”ì‹ ìœ í˜•</li>
          <li class="task-item"><input type="checkbox" data-id="t17" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ìˆ˜ì—´ ì‹¤ì „ ê¸°ì¶œ + ê³ ë‚œë„ ì¤€ë¹„</li>
        </ul>
      </div>
      <div class="week-card" id="wc-4">
        <div class="week-num-row"><span class="week-num">WEEK 04</span><div class="week-check" id="wcheck-4" onclick="toggleWeek(4)"></div></div>
        <div class="week-title">ìˆ˜í•™1 ì‹¤ì „ ë§ˆë¬´ë¦¬ + ì•½ì  ë³´ì™„</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t18" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ì§€ìˆ˜Â·ë¡œê·¸ ì „ì²´ ì˜¤ë‹µ ì¬í’€ì´</li>
          <li class="task-item"><input type="checkbox" data-id="t19" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ì‚¼ê°í•¨ìˆ˜ ì „ì²´ ì˜¤ë‹µ ì¬í’€ì´</li>
          <li class="task-item"><input type="checkbox" data-id="t20" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ìˆ˜ì—´ ì „ì²´ ì˜¤ë‹µ ì¬í’€ì´</li>
          <li class="task-item"><input type="checkbox" data-id="t21" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ìˆ˜ëŠ¥ ê¸°ì¶œ ëª¨ì˜ê³ ì‚¬ ì„¸íŠ¸ í’€ê¸° (ìˆ˜í•™1)</li>
          <li class="task-item"><input type="checkbox" data-id="t22" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ê³ ë‚œë„ ë¬¸í•­ ì§‘ì¤‘ ë¶„ì„ (28Â·29ë²ˆê¸‰)</li>
          <li class="task-item"><input type="checkbox" data-id="t23" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ìˆ˜í•™1 ìµœì¢… ì ê²€ + ì˜¤ë‹µ ë…¸íŠ¸ ì™„ì„±</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- MONTH 2 -->
  <div class="month-content" id="month-2">
    <div class="month-header">
      <div class="month-num">02</div>
      <div class="month-info"><h2>ğŸ“Š ìˆ˜í•™ 2 ì™„ì„±</h2><p>ê·¹í•œÂ·ì—°ì† â†’ ë¯¸ë¶„ â†’ ì ë¶„ ìˆœìœ¼ë¡œ ê°œë…ë¶€í„° ì‹¤ì „ ê³ ë‚œë„ê¹Œì§€</p></div>
      <div class="month-badge badge-blue">4ì£¼ ì™„ì„±</div>
    </div>
    <div class="weeks-grid">
      <div class="week-card" id="wc-5">
        <div class="week-num-row"><span class="week-num">WEEK 05</span><div class="week-check" id="wcheck-5" onclick="toggleWeek(5)"></div></div>
        <div class="week-title">í•¨ìˆ˜ì˜ ê·¹í•œê³¼ ì—°ì†</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t24" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ìˆ˜ì—´ì˜ ê·¹í•œ ë³µìŠµ + í•¨ìˆ˜ì˜ ê·¹í•œ ì •ì˜</li>
          <li class="task-item"><input type="checkbox" data-id="t25" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ê·¹í•œì˜ ì„±ì§ˆ, ì¢Œê·¹í•œÂ·ìš°ê·¹í•œ</li>
          <li class="task-item"><input type="checkbox" data-id="t26" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>âˆ/âˆ, 0/0 ê¼´ ê·¹í•œ ê³„ì‚°</li>
          <li class="task-item"><input type="checkbox" data-id="t27" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>í•¨ìˆ˜ì˜ ì—°ì† (ì—°ì†ì˜ ì •ì˜Â·ì„±ì§ˆ)</li>
          <li class="task-item"><input type="checkbox" data-id="t28" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ì—°ì†í•¨ìˆ˜ì˜ ì„±ì§ˆ + ìµœëŒ€Â·ìµœì†Œ ì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t29" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ê·¹í•œÂ·ì—°ì† ê¸°ì¶œ í’€ì´ + ì˜¤ë‹µ ì •ë¦¬</li>
        </ul>
      </div>
      <div class="week-card" id="wc-6">
        <div class="week-num-row"><span class="week-num">WEEK 06</span><div class="week-check" id="wcheck-6" onclick="toggleWeek(6)"></div></div>
        <div class="week-title">ë¯¸ë¶„ â€” ê°œë… + í™œìš©</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t30" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ë¯¸ë¶„ê³„ìˆ˜, ë„í•¨ìˆ˜ ì •ì˜</li>
          <li class="task-item"><input type="checkbox" data-id="t31" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ë‹¤í•­í•¨ìˆ˜ ë¯¸ë¶„ë²• + ê³±Â·ë‚˜ëˆ—ì…ˆë²•ì¹™</li>
          <li class="task-item"><input type="checkbox" data-id="t32" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>í•©ì„±í•¨ìˆ˜Â·ì—­í•¨ìˆ˜ ë¯¸ë¶„</li>
          <li class="task-item"><input type="checkbox" data-id="t33" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì ‘ì„ ì˜ ë°©ì •ì‹, í‰ê· ê°’ ì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t34" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>í•¨ìˆ˜ì˜ ì¦ê°€Â·ê°ì†Œ, ê·¹ê°’ êµ¬í•˜ê¸°</li>
          <li class="task-item"><input type="checkbox" data-id="t35" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ë¯¸ë¶„ ê¸°ì¶œ ìœ í˜• ì§‘ì¤‘ í’€ì´</li>
        </ul>
      </div>
      <div class="week-card" id="wc-7">
        <div class="week-num-row"><span class="week-num">WEEK 07</span><div class="week-check" id="wcheck-7" onclick="toggleWeek(7)"></div></div>
        <div class="week-title">ë¯¸ë¶„ ê³ ê¸‰ + ì ë¶„ ì…ë¬¸</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t36" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>í•¨ìˆ˜ì˜ ê·¸ë˜í”„ ê·¸ë¦¬ê¸° + ìµœëŒ€ìµœì†Œ</li>
          <li class="task-item"><input type="checkbox" data-id="t37" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ì†ë„Â·ê°€ì†ë„, ì‹œê°ì  í™œìš©</li>
          <li class="task-item"><input type="checkbox" data-id="t38" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ë¶€ì •ì ë¶„ â€” ê¸°ë³¸ ê³µì‹</li>
          <li class="task-item"><input type="checkbox" data-id="t39" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì¹˜í™˜ì ë¶„, ë¶€ë¶„ì ë¶„</li>
          <li class="task-item"><input type="checkbox" data-id="t40" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ì •ì ë¶„ ì •ì˜ + ë¯¸ì ë¶„í•™ ê¸°ë³¸ì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t41" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ì ë¶„ ê°œë… í™•ì¸ ë¬¸ì œ í’€ì´</li>
        </ul>
      </div>
      <div class="week-card" id="wc-8">
        <div class="week-num-row"><span class="week-num">WEEK 08</span><div class="week-check" id="wcheck-8" onclick="toggleWeek(8)"></div></div>
        <div class="week-title">ì ë¶„ í™œìš© + ìˆ˜í•™2 ì‹¤ì „ ë§ˆë¬´ë¦¬</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t42" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ë„“ì´ ê³„ì‚° (ì •ì ë¶„ í™œìš©)</li>
          <li class="task-item"><input type="checkbox" data-id="t43" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ë¶€í”¼ ê³„ì‚°, ì†ë„Â·ê±°ë¦¬ ë¬¸ì œ</li>
          <li class="task-item"><input type="checkbox" data-id="t44" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ìˆ˜í•™2 ì „ë‹¨ì› ì˜¤ë‹µ ì¬í’€ì´</li>
          <li class="task-item"><input type="checkbox" data-id="t45" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ìˆ˜ëŠ¥ ê¸°ì¶œ ì„¸íŠ¸ í’€ê¸° (ìˆ˜í•™2)</li>
          <li class="task-item"><input type="checkbox" data-id="t46" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ê³ ë‚œë„ í‚¬ëŸ¬ ë¬¸í•­ ë¶„ì„</li>
          <li class="task-item"><input type="checkbox" data-id="t47" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ìˆ˜í•™2 ìµœì¢… ì ê²€ + ì˜¤ë‹µë…¸íŠ¸ ì™„ì„±</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- MONTH 3 -->
  <div class="month-content" id="month-3">
    <div class="month-header">
      <div class="month-num">03</div>
      <div class="month-info"><h2>ğŸ² í™•ë¥ ê³¼í†µê³„ + ì „ì²´ ë³µìŠµ</h2><p>ê²½ìš°ì˜ ìˆ˜ â†’ í™•ë¥  â†’ í†µê³„ â†’ 3ê³¼ëª© í†µí•© ì‹¤ì „ ë§ˆë¬´ë¦¬</p></div>
      <div class="month-badge badge-green">4ì£¼ ì™„ì„±</div>
    </div>
    <div class="weeks-grid">
      <div class="week-card" id="wc-9">
        <div class="week-num-row"><span class="week-num">WEEK 09</span><div class="week-check" id="wcheck-9" onclick="toggleWeek(9)"></div></div>
        <div class="week-title">ê²½ìš°ì˜ ìˆ˜ â€” ìˆœì—´Â·ì¡°í•©</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t48" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ê²½ìš°ì˜ ìˆ˜ ê¸°ë³¸ (í•©ì˜ ë²•ì¹™, ê³±ì˜ ë²•ì¹™)</li>
          <li class="task-item"><input type="checkbox" data-id="t49" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ìˆœì—´ â€” nPr, ì›ìˆœì—´, ì¤‘ë³µìˆœì—´</li>
          <li class="task-item"><input type="checkbox" data-id="t50" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ì¡°í•© â€” nCr, ì¤‘ë³µì¡°í•© H</li>
          <li class="task-item"><input type="checkbox" data-id="t51" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì´í•­ì •ë¦¬, ë‹¤í•­ì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t52" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ê²½ìš°ì˜ ìˆ˜ ì‹¤ì „ ê¸°ì¶œ ìœ í˜• ì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t53" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ì˜¤ë‹µ ì •ë¦¬ + ê³ ë‚œë„ ê²½ìš°ì˜ ìˆ˜</li>
        </ul>
      </div>
      <div class="week-card" id="wc-10">
        <div class="week-num-row"><span class="week-num">WEEK 10</span><div class="week-check" id="wcheck-10" onclick="toggleWeek(10)"></div></div>
        <div class="week-title">í™•ë¥  â€” ì¡°ê±´ë¶€í™•ë¥  + ë…ë¦½</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t54" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>í™•ë¥ ì˜ ì •ì˜Â·ë§ì…ˆì •ë¦¬Â·ì—¬ì‚¬ê±´</li>
          <li class="task-item"><input type="checkbox" data-id="t55" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ì¡°ê±´ë¶€í™•ë¥ , í™•ë¥ ì˜ ê³±ì…ˆì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t56" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ì‚¬ê±´ì˜ ë…ë¦½Â·ì¢…ì†</li>
          <li class="task-item"><input type="checkbox" data-id="t57" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ë…ë¦½ì‹œí–‰ì˜ í™•ë¥ , ë°˜ë³µì‹œí–‰</li>
          <li class="task-item"><input type="checkbox" data-id="t58" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>í™•ë¥  ì‹¤ì „ ê¸°ì¶œ ìœ í˜• ì§‘ì¤‘</li>
          <li class="task-item"><input type="checkbox" data-id="t59" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>í™•ë¥  ë‹¨ì› ì˜¤ë‹µ + ì‹¬í™” ë¬¸ì œ</li>
        </ul>
      </div>
      <div class="week-card" id="wc-11">
        <div class="week-num-row"><span class="week-num">WEEK 11</span><div class="week-check" id="wcheck-11" onclick="toggleWeek(11)"></div></div>
        <div class="week-title">í†µê³„ â€” í™•ë¥ ë¶„í¬ + ì¶”ì •</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t60" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ì´ì‚°í™•ë¥ ë³€ìˆ˜, ê¸°ëŒ“ê°’Â·ë¶„ì‚°</li>
          <li class="task-item"><input type="checkbox" data-id="t61" onchange="handleCheck(this)"><span class="day-tag">í™”</span>ì´í•­ë¶„í¬ B(n, p)</li>
          <li class="task-item"><input type="checkbox" data-id="t62" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ì •ê·œë¶„í¬, í‘œì¤€ì •ê·œë¶„í¬ Z</li>
          <li class="task-item"><input type="checkbox" data-id="t63" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>í‘œë³¸í‰ê· ì˜ ë¶„í¬, ì¤‘ì‹¬ê·¹í•œì •ë¦¬</li>
          <li class="task-item"><input type="checkbox" data-id="t64" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ëª¨í‰ê·  ì¶”ì • (ì‹ ë¢°êµ¬ê°„)</li>
          <li class="task-item"><input type="checkbox" data-id="t65" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>í†µê³„ ê¸°ì¶œ ìœ í˜• + ì˜¤ë‹µ ì •ë¦¬</li>
        </ul>
      </div>
      <div class="week-card" id="wc-12">
        <div class="week-num-row"><span class="week-num">WEEK 12</span><div class="week-check" id="wcheck-12" onclick="toggleWeek(12)"></div></div>
        <div class="week-title">ğŸ 3ê³¼ëª© í†µí•© ì‹¤ì „ ë§ˆë¬´ë¦¬</div>
        <ul class="tasks-list">
          <li class="task-item"><input type="checkbox" data-id="t66" onchange="handleCheck(this)"><span class="day-tag">ì›”</span>ìˆ˜í•™1 + ìˆ˜í•™2 í•µì‹¬ ì˜¤ë‹µ ìµœì¢… íšŒë…</li>
          <li class="task-item"><input type="checkbox" data-id="t67" onchange="handleCheck(this)"><span class="day-tag">í™”</span>í™•ë¥ ê³¼í†µê³„ ì „ë‹¨ì› ì˜¤ë‹µ ìµœì¢… íšŒë…</li>
          <li class="task-item"><input type="checkbox" data-id="t68" onchange="handleCheck(this)"><span class="day-tag">ìˆ˜</span>ì‹¤ì „ ëª¨ì˜ê³ ì‚¬ 1íšŒ â€” 3ê³¼ëª© í†µí•©</li>
          <li class="task-item"><input type="checkbox" data-id="t69" onchange="handleCheck(this)"><span class="day-tag">ëª©</span>ì‹¤ì „ ëª¨ì˜ê³ ì‚¬ ì±„ì  + ì „ëµ ë¶„ì„</li>
          <li class="task-item"><input type="checkbox" data-id="t70" onchange="handleCheck(this)"><span class="day-tag">ê¸ˆ</span>ì·¨ì•½ ë‹¨ì› ì§‘ì¤‘ ë³´ì¶©</li>
          <li class="task-item"><input type="checkbox" data-id="t71" onchange="handleCheck(this)"><span class="day-tag">ì£¼ë§</span>ğŸ‰ ì™„ì„±! ì˜¤ë‹µë…¸íŠ¸ + ë§ˆì§€ë§‰ ì ê²€</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- TIPS -->
  <div class="tips-section">
    <div class="tips-title">ğŸ’¡ ë§ˆë”í…… í™œìš© ê¿€íŒ</div>
    <div class="tips-grid">
      <div class="tip-card"><div class="tip-icon">ğŸ“</div><h4>ì˜¤ë‹µë…¸íŠ¸ í•„ìˆ˜</h4><p>í‹€ë¦° ë¬¸ì œëŠ” ë°˜ë“œì‹œ ì˜¤ë‹µë…¸íŠ¸ì— ê¸°ë¡. 3íšŒë… ì´ìƒ ë°˜ë³µì´ í•µì‹¬.</p></div>
      <div class="tip-card"><div class="tip-icon">â±ï¸</div><h4>ì‹œê°„ ì œí•œ í›ˆë ¨</h4><p>ë‹¨ìˆœ í’€ê¸° â†’ ì‹œê°„ ì¸¡ì • â†’ ì‹¤ì „ ì„¸íŠ¸ ìˆœìœ¼ë¡œ ì§„í–‰.</p></div>
      <div class="tip-card"><div class="tip-icon">ğŸ”„</div><h4>ì£¼ê°„ ë³µìŠµ ì‚¬ì´í´</h4><p>ì›”~ê¸ˆ ìƒˆ ë‚´ìš©, ì£¼ë§ì€ ê·¸ ì£¼ ì „ì²´ ë³µìŠµ. ì••ì¶• íšŒë….</p></div>
      <div class="tip-card"><div class="tip-icon">ğŸ“Š</div><h4>ê¸°ì¶œ ë³‘í–‰</h4><p>ë§ˆë”í…… ìœ í˜• ì™„ì„± í›„ ìˆ˜ëŠ¥Â·ëª¨í‰ ê¸°ì¶œê³¼ ë°˜ë“œì‹œ ì—°ê²°.</p></div>
    </div>
  </div>

</div>

<script>
  const STORAGE_KEY = 'mothertong-shared-v1';
  const POLL_INTERVAL = 5000; // 5ì´ˆë§ˆë‹¤ ë™ê¸°í™”
  let localState = {};
  let pollTimer = null;

  // ì´ íƒœìŠ¤í¬ ìˆ˜ ê³„ì‚°ìš©
  const MONTH_RANGES = {
    1: ['t0','t1','t2','t3','t4','t5','t6','t7','t8','t9','t10','t11','t12','t13','t14','t15','t16','t17','t18','t19','t20','t21','t22','t23'],
    2: ['t24','t25','t26','t27','t28','t29','t30','t31','t32','t33','t34','t35','t36','t37','t38','t39','t40','t41','t42','t43','t44','t45','t46','t47'],
    3: ['t48','t49','t50','t51','t52','t53','t54','t55','t56','t57','t58','t59','t60','t61','t62','t63','t64','t65','t66','t67','t68','t69','t70','t71']
  };

  const WEEK_TASKS = {
    1: ['t0','t1','t2','t3','t4','t5'],
    2: ['t6','t7','t8','t9','t10','t11'],
    3: ['t12','t13','t14','t15','t16','t17'],
    4: ['t18','t19','t20','t21','t22','t23'],
    5: ['t24','t25','t26','t27','t28','t29'],
    6: ['t30','t31','t32','t33','t34','t35'],
    7: ['t36','t37','t38','t39','t40','t41'],
    8: ['t42','t43','t44','t45','t46','t47'],
    9: ['t48','t49','t50','t51','t52','t53'],
    10: ['t54','t55','t56','t57','t58','t59'],
    11: ['t60','t61','t62','t63','t64','t65'],
    12: ['t66','t67','t68','t69','t70','t71']
  };

  async function loadFromStorage() {
    try {
      const result = await window.storage.get(STORAGE_KEY, true);
      return result ? JSON.parse(result.value) : {};
    } catch(e) {
      return {};
    }
  }

  async function saveToStorage(state) {
    try {
      await window.storage.set(STORAGE_KEY, JSON.stringify(state), true);
    } catch(e) {
      console.error('ì €ì¥ ì‹¤íŒ¨', e);
    }
  }

  function applyStateToUI(state) {
    document.querySelectorAll('.task-item input[type="checkbox"]').forEach(cb => {
      const id = cb.dataset.id;
      const shouldBeChecked = !!state[id];
      if (cb.checked !== shouldBeChecked) {
        cb.checked = shouldBeChecked;
        cb.parentElement.classList.toggle('checked', shouldBeChecked);
      }
    });
    updateProgress(state);
    updateWeekChecks(state);
  }

  function getStateFromUI() {
    const state = {};
    document.querySelectorAll('.task-item input[type="checkbox"]').forEach(cb => {
      state[cb.dataset.id] = cb.checked;
    });
    return state;
  }

  async function handleCheck(el) {
    el.classList.add('saving');
    el.parentElement.classList.toggle('checked', el.checked);
    localState[el.dataset.id] = el.checked;
    await saveToStorage(localState);
    el.classList.remove('saving');
    updateProgress(localState);
    updateWeekChecks(localState);
    updateSyncTime();
  }

  async function toggleWeek(n) {
    const tasks = WEEK_TASKS[n];
    const allChecked = tasks.every(id => !!localState[id]);
    tasks.forEach(id => { localState[id] = !allChecked; });
    applyStateToUI(localState);
    await saveToStorage(localState);
    updateSyncTime();
  }

  function updateProgress(state) {
    const allIds = Object.values(MONTH_RANGES).flat();
    const total = allIds.length;
    const done = allIds.filter(id => state[id]).length;
    const pct = total > 0 ? Math.round(done / total * 100) : 0;

    document.getElementById('totalPct').textContent = pct + '%';
    document.getElementById('totalBar').style.width = pct + '%';

    [1,2,3].forEach(m => {
      const ids = MONTH_RANGES[m];
      const mDone = ids.filter(id => state[id]).length;
      const mPct = ids.length > 0 ? Math.round(mDone / ids.length * 100) : 0;
      document.getElementById('pct' + m).textContent = mPct + '%';
      document.getElementById('bar' + m).style.width = mPct + '%';
    });
  }

  function updateWeekChecks(state) {
    Object.entries(WEEK_TASKS).forEach(([w, tasks]) => {
      const allDone = tasks.length > 0 && tasks.every(id => !!state[id]);
      const checkEl = document.getElementById('wcheck-' + w);
      const card = document.getElementById('wc-' + w);
      if (checkEl) checkEl.classList.toggle('done', allDone);
      if (card) card.classList.toggle('completed', allDone);
    });
  }

  function updateSyncTime() {
    const now = new Date();
    const h = now.getHours().toString().padStart(2,'0');
    const m = now.getMinutes().toString().padStart(2,'0');
    const s = now.getSeconds().toString().padStart(2,'0');
    document.getElementById('syncTime').textContent = `ë§ˆì§€ë§‰ ë™ê¸°í™”: ${h}:${m}:${s}`;
  }

  async function poll() {
    try {
      const remoteState = await loadFromStorage();
      // ë¦¬ëª¨íŠ¸ì™€ ë¡œì»¬ ë³‘í•© (ì²´í¬ëœ ê²Œ ìš°ì„ )
      let changed = false;
      Object.keys(remoteState).forEach(id => {
        if (remoteState[id] && !localState[id]) {
          localState[id] = true;
          changed = true;
        }
      });
      if (changed) {
        applyStateToUI(localState);
        updateSyncTime();
      }
    } catch(e) {}
  }

  async function confirmReset() {
    if (!confirm('âš ï¸ ëª¨ë“  ì²´í¬ë¥¼ ì´ˆê¸°í™”í• ê¹Œìš”?\nì´ ì‘ì—…ì€ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì ìš©ë©ë‹ˆë‹¤.')) return;
    localState = {};
    await saveToStorage(localState);
    applyStateToUI(localState);
    updateSyncTime();
  }

  function switchTab(n) {
    document.querySelectorAll('.month-content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
    document.getElementById('month-' + n).classList.add('active');
    document.querySelector('.tab-btn[data-month="' + n + '"]').classList.add('active');
  }

  // INIT
  async function init() {
    const overlay = document.getElementById('loadingOverlay');
    try {
      localState = await loadFromStorage();
      applyStateToUI(localState);
      updateSyncTime();
    } catch(e) {
      localState = {};
    }
    overlay.classList.add('hidden');
    setTimeout(() => overlay.remove(), 400);

    // ì£¼ê¸°ì  ë™ê¸°í™”
    pollTimer = setInterval(poll, POLL_INTERVAL);
  }

  init();
</script>
</body>
</html>
